<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:insert="header :: links">
</head>
<header th:insert="header :: header"></header>
<body class="container mt-5 mb-5">
<div class="tab-container">
  <table  class="table table-striped table-hover">
    <thead>
    <tr>
      <th scope="row">#</th>
      <th>Пользователь</th>
      <th>Роль пользователя</th>
      <th>Заголовок</th>
      <th>Тема</th>
      <th>Дата добавления</th>
      <th>Дата изменения</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="el : ${reports}">
      <th scope="row" th:text="${el.id}" th:value="${el.id}"></th>
      <td th:text="${el.user.username}"   th:value="${el.title}" ></td>
      <td th:text="${el.user.roles.toString()}"   th:value="${el.user.roles.toString()}" ></td>
      <td th:text="${el.title}"   th:value="${el.title}" ></td>
      <td th:text="${el.subject}"   th:value="${el.subject}" ></td>
      <td th:text="${el.dateAdd}" th:value="${el.dateAdd}" ></td>
      <td th:text="${el.dateUpd}" th:value="${el.dateUpd}" ></td>
      <td>
        <a th:if="${el.isSended == true}" th:href="'/report/' + ${el.id}"  class="btn btn-success">Смотреть отчет</a>
        <form th:if="${el.isSended == false}" th:action="'/report/send/' + ${el.id}" method="post" class="col">
          <button type="submit"  class="btn btn-warning">Отправить отчет</button>
        </form>
      </td>
      <td>
        <a th:if="${el.isSended == false}" th:href="'/report/edit/' + ${el.id}"  class="btn btn-warning">Редактировать</a>
      </td>
      <td>
        <form th:action="'/report/delete/' + ${el.id}" method="post" class="col">
          <button  th:if="${el.isSended == false}" type="submit"  class="btn btn-danger">Удалить</button>
        </form>
      </td>
    </tr>
    </tbody>
  </table>
<div><a href="report/add" class="btn btn-success">Создать отчет</a></div>
</div>
</body>
</html>